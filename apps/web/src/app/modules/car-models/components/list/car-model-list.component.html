<div class="flex justify-content-between align-items-center">
  <h1>Марки автотранспорта</h1>
  <div>
    <button pButton [label]="'Добавить'"
            class="p-button-success"
            routerLink="/car-models/add">
    </button>
  </div>
</div>

<div *ngIf="!loading">
  <p-table [loading]="loading"
           [value]="brandCars">
    <ng-template pTemplate="header">
      <tr>
        <th>Название</th>
        <th>Модели</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-brandCar>
      <tr *ngIf="toBrandCar(brandCar) as brandCar">
        <td>
          <div class="fw-bold">
            <a routerLink="/car-models/edit/{{ brandCar._id }}">{{ brandCar.name }}</a>
          </div>
        </td>
        <td>
          <p *ngFor="let modelCar of brandCar.models | orderBy: 'name:string'; last as isLast"
             [class.mb-1]='!isLast'>
            <small>{{ modelCar.name }}</small>
          </p>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<car-spinner *ngIf="loading"></car-spinner>
